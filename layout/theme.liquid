<!DOCTYPE html>
<html class="no-js" lang="{{ request.locale.iso_code }}" dir="{{ settings.text_direction }}">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
<meta name="theme-color" content="{{ settings.accent_color }}">

<!-- Preconnect to critical origins -->
<link rel="preconnect" href="https://cdn.shopify.com" crossorigin>
<link rel="preconnect" href="https://fonts.shopifycdn.com" crossorigin>
<link rel="dns-prefetch" href="https://cdn.shopify.com">
<link rel="dns-prefetch" href="https://fonts.shopifycdn.com">

<title>
{{ page_title }}{% if current_tags %} &ndash; tagged "{{ current_tags | join: ', ' }}"{% endif %}{% if current_page != 1 %} &ndash; Page {{ current_page }}{% endif %}{% unless page_title contains shop.name %} &ndash; {{ shop.name }}{% endunless %}
</title>

{% if page_description %}
<meta name="description" content="{{ page_description | escape }}">
{% endif %}

<link rel="canonical" href="{{ canonical_url }}">

{% if settings.favicon != blank %}
<link rel="icon" type="image/png" href="{{ settings.favicon | image_url: width: 32, height: 32 }}">
{% endif %}

{% render 'css-variables' %}

<!-- Critical CSS inlined for faster first paint -->
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth;font-size:16px}
body{font-family:var(--font-body);font-weight:400;color:var(--color-text);background-color:var(--color-background);line-height:1.7;overflow-x:hidden;-webkit-font-smoothing:antialiased}
img{max-width:100%;height:auto;display:block}
a{color:inherit;text-decoration:none}
button{cursor:pointer;border:none;background:none;font-family:inherit}
h1,h2,h3,h4,h5,h6{font-family:var(--font-heading);font-weight:600;line-height:1.2;color:var(--color-heading)}
h1{font-size:clamp(2rem,4vw,3.5rem)}
.container{width:100%;max-width:var(--container-width);margin:0 auto;padding:0 var(--grid-gutter)}
.site-header{position:fixed;top:0;left:0;width:100%;z-index:1000;transition:all 0.3s ease;padding:0}
.site-header__inner{display:flex;align-items:center;justify-content:space-between;padding:16px 40px;background:rgba(255,255,255,0.98);backdrop-filter:blur(20px);transition:all 0.3s ease;border-bottom:1px solid transparent}
.page-loader{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--color-background);display:flex;align-items:center;justify-content:center;z-index:10000;transition:opacity 0.4s ease,visibility 0.4s ease}
.page-loader.loaded{opacity:0;visibility:hidden;pointer-events:none}
.hero-slider__viewport{position:relative;width:100%;height:85vh;min-height:400px;max-height:800px}
.hero-slide{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0}
.hero-slide--active{opacity:1}
.hero-slide__media{position:absolute;inset:0}
.hero-slide__media img,.hero-slide__media video{width:100%;height:100%;object-fit:cover}
</style>

<!-- Main stylesheet with high priority -->
<link rel="preload" href="{{ 'luxe-theme.css' | asset_url }}" as="style">
{{ 'luxe-theme.css' | asset_url | stylesheet_tag }}

<!-- Animations CSS loaded async (non-render-blocking) -->
<link rel="preload" href="{{ 'luxe-animations.css' | asset_url }}" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript>{{ 'luxe-animations.css' | asset_url | stylesheet_tag }}</noscript>

{% assign heading_font = settings.heading_font %}
{% assign body_font = settings.body_font %}
<style>{{ heading_font | font_face: font_display: 'swap' }}{{ body_font | font_face: font_display: 'swap' }}{% assign heading_bold = heading_font | font_modify: 'weight', 'bold' %}{% if heading_bold %}{{ heading_bold | font_face: font_display: 'swap' }}{% endif %}{% assign body_bold = body_font | font_modify: 'weight', 'bold' %}{% if body_bold %}{{ body_bold | font_face: font_display: 'swap' }}{% endif %}{% assign body_italic = body_font | font_modify: 'style', 'italic' %}{% if body_italic %}{{ body_italic | font_face: font_display: 'swap' }}{% endif %}</style>

{{ content_for_header }}

<script>
document.documentElement.className = document.documentElement.className.replace('no-js', 'js');
window.theme = {
moneyFormat: {{ shop.money_format | json }},
cartCount: {{ cart.item_count }},
routes: {
cart_url: '{{ routes.cart_url }}',
cart_add_url: '{{ routes.cart_add_url }}',
cart_change_url: '{{ routes.cart_change_url }}',
search_url: '{{ routes.search_url }}'
}
};
/* Remove page loader fast â€” don't block content visibility */
window.addEventListener('load', function(){
  var lo = document.getElementById('page-loader');
  if(lo){ requestAnimationFrame(function(){ lo.classList.add('loaded'); }); }
});
</script>

<!-- Preload hero image if available -->
{% if template.name == 'index' %}
  {% for section_hash in content_for_layout %}
  {% endfor %}
{% endif %}

<!-- Preload main JS -->
<link rel="preload" href="{{ 'luxe-theme.js' | asset_url }}" as="script">
</head>

<body class="template-{{ template.name }}{% if template.suffix %} template-{{ template.name }}-{{ template.suffix }}{% endif %}" data-animations-enabled="{{ settings.enable_animations }}">

<div class="scroll-progress"></div>

<div id="page-loader" class="page-loader" aria-hidden="true">
<div class="loader-inner">
<div class="loader-circle"></div>
<span class="loader-text">{{ shop.name }}</span>
</div>
</div>

{% section 'announcement-bar' %}

{% section 'header' %}

{% render 'cart-drawer' %}

{% render 'wishlist-drawer' %}

{% render 'search-overlay' %}

<main id="MainContent" class="main-content" role="main">
{{ content_for_layout }}
</main>

{% section 'footer' %}

<button id="back-to-top" class="back-to-top" aria-label="Back to top">
<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
<path d="M18 15l-6-6-6 6"/>
</svg>
</button>

{% if settings.enable_newsletter_popup %}
{% render 'newsletter-popup' %}
{% endif %}

{% if settings.enable_custom_cursor %}
<div class="cursor-follower"></div>
<div class="cursor-follower-dot"></div>
{% endif %}

<script src="{{ 'luxe-theme.js' | asset_url }}" defer></script>

{% if request.design_mode %}
<script src="{{ 'theme-editor.js' | asset_url }}" defer></script>
{% endif %}
</body>
</html>